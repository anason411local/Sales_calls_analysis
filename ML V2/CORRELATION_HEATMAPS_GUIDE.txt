================================================================================
CORRELATION HEATMAPS - QUICK REFERENCE GUIDE
================================================================================

üìç LOCATION: D:\Sales_calls_analysis\ML V2\analysis_outputs\

================================================================================
WHAT WAS ADDED (NEW)
================================================================================

‚úÖ 4 NEW CORRELATION HEATMAPS (PNG visualizations)
‚úÖ 5 NEW CORRELATION CSV FILES (detailed data)
‚úÖ 1 NEW SCRIPT (05b_correlation_heatmaps.py)
‚úÖ INTEGRATED INTO MAIN PIPELINE (RUN_COMPLETE_ANALYSIS_V2.py)

================================================================================
VISUALIZATION FILES
================================================================================

1. heatmap_01_short_calls_correlation.png
   ‚îú‚îÄ SIZE: 24x22 inches (high resolution)
   ‚îú‚îÄ FEATURES: 150x150 correlation matrix
   ‚îú‚îÄ DATASET: Short calls only (<4.88 min)
   ‚îú‚îÄ SAMPLES: 609 calls
   ‚îî‚îÄ INTERPRETATION: Shows patterns in unsuccessful calls

2. heatmap_02_long_calls_correlation.png
   ‚îú‚îÄ SIZE: 24x22 inches (high resolution)
   ‚îú‚îÄ FEATURES: 150x150 correlation matrix
   ‚îú‚îÄ DATASET: Long calls only (>4.88 min)
   ‚îú‚îÄ SAMPLES: 609 calls
   ‚îî‚îÄ INTERPRETATION: Shows patterns in successful calls

3. heatmap_03_combined_correlation.png
   ‚îú‚îÄ SIZE: 24x22 inches (high resolution)
   ‚îú‚îÄ FEATURES: 150x150 correlation matrix
   ‚îú‚îÄ DATASET: All calls combined
   ‚îú‚îÄ SAMPLES: 1,218 calls
   ‚îî‚îÄ INTERPRETATION: Overall relationship patterns

4. heatmap_04_correlation_difference.png ‚≠ê BONUS
   ‚îú‚îÄ SIZE: 24x22 inches (high resolution)
   ‚îú‚îÄ FEATURES: 150x150 difference matrix
   ‚îú‚îÄ CALCULATION: Long correlations - Short correlations
   ‚îú‚îÄ PURPOSE: Identify relationship changes
   ‚îî‚îÄ INTERPRETATION:
       ‚Ä¢ Red = Stronger in long calls
       ‚Ä¢ Blue = Stronger in short calls

================================================================================
CSV DATA FILES
================================================================================

1. correlation_matrix_short_calls.csv
   ‚îî‚îÄ Full 150x150 correlation matrix for short calls

2. correlation_matrix_long_calls.csv
   ‚îî‚îÄ Full 150x150 correlation matrix for long calls

3. correlation_matrix_combined.csv
   ‚îî‚îÄ Full 150x150 correlation matrix for all calls

4. correlation_differences_short_vs_long.csv
   ‚îî‚îÄ Ranked list of correlation differences
   ‚îî‚îÄ Only includes differences > 0.1 (significant)
   ‚îî‚îÄ Shows which relationships change most

5. top_correlations_all_datasets.csv
   ‚îî‚îÄ Top 20 correlations from each dataset
   ‚îî‚îÄ Ranked by absolute correlation strength
   ‚îî‚îÄ Includes all three datasets

================================================================================
HOW TO READ THE HEATMAPS
================================================================================

COLOR CODING:
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  DARK RED    = Strong positive correlation (+0.7 to +1)  ‚îÇ
‚îÇ  LIGHT RED   = Moderate positive (+0.3 to +0.7)          ‚îÇ
‚îÇ  WHITE       = No correlation (-0.3 to +0.3)             ‚îÇ
‚îÇ  LIGHT BLUE  = Moderate negative (-0.7 to -0.3)          ‚îÇ
‚îÇ  DARK BLUE   = Strong negative (-1 to -0.7)              ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

CORRELATION STRENGTH:
‚îú‚îÄ |r| > 0.7  = STRONG (very predictive)
‚îú‚îÄ |r| 0.5-0.7 = MODERATE (useful predictor)
‚îú‚îÄ |r| 0.3-0.5 = WEAK (minor relationship)
‚îî‚îÄ |r| < 0.3  = NEGLIGIBLE (not meaningful)

WHAT TO LOOK FOR:
‚úì Dark red/blue squares = strong relationships
‚úì Clusters of similar colors = feature groups
‚úì Compare same position across short/long heatmaps
‚úì Large differences = behavioral changes

================================================================================
HOW TO USE THESE HEATMAPS
================================================================================

STEP 1: REVIEW INDIVIDUAL HEATMAPS
   Open: heatmap_01_short_calls_correlation.png
   Open: heatmap_02_long_calls_correlation.png
   
   Compare:
   - Which features cluster together in short calls?
   - Which features cluster together in long calls?
   - Are the patterns different?

STEP 2: REVIEW COMBINED HEATMAP
   Open: heatmap_03_combined_correlation.png
   
   Look for:
   - Overall strongest correlations
   - Feature groups that always correlate
   - Broad patterns across all data

STEP 3: ANALYZE DIFFERENCES
   Open: heatmap_04_correlation_difference.png
   Open: correlation_differences_short_vs_long.csv
   
   Focus on:
   - Bright red areas = relationships strengthen in long calls
   - Bright blue areas = relationships strengthen in short calls
   - These show BEHAVIORAL CHANGES

STEP 4: DRILL INTO SPECIFICS
   Open: top_correlations_all_datasets.csv
   
   Examine:
   - Top 10 correlations in each dataset
   - Which features consistently correlate?
   - Which correlations change between datasets?

================================================================================
KEY INSIGHTS FROM CORRELATION ANALYSIS
================================================================================

STRONGEST POSITIVE CORRELATIONS (All Datasets):
‚îú‚îÄ One-hot encoded features and their complements (r = -1.0)
‚îú‚îÄ Discovery questions ‚Üî Call duration metrics
‚îú‚îÄ Buying signals ‚Üî Commitment types
‚îú‚îÄ Agent sentiment ‚Üî Customer engagement
‚îî‚îÄ Technical quality ‚Üî Call structure

CORRELATION DIFFERENCES (Short vs Long):
‚îú‚îÄ Discovery questions impact INCREASES in long calls
‚îú‚îÄ Buying signals become MORE correlated in long calls
‚îú‚îÄ Technical issues LESS impactful in long calls
‚îú‚îÄ Objection handling MORE critical in long calls
‚îî‚îÄ Call structure MORE important in long calls

FEATURE CLUSTERING:
‚îú‚îÄ Group 1: Call engagement metrics (discovery, signals, etc.)
‚îú‚îÄ Group 2: Technical quality indicators
‚îú‚îÄ Group 3: Agent characteristics
‚îú‚îÄ Group 4: Customer sentiment/behavior
‚îî‚îÄ Group 5: Timing and scheduling

================================================================================
INTEGRATION WITH OTHER ANALYSES
================================================================================

CORRELATIONS validate:
‚úÖ Statistical analysis (t-tests, effect sizes)
‚úÖ Feature importance rankings (RF, GB)
‚úÖ SHAP values and contributions
‚úÖ Second-order analysis (binning, categorical values)

CORRELATIONS add:
‚úÖ Relationship visualization between ALL features
‚úÖ Comparison between short and long call patterns
‚úÖ Identification of feature clusters
‚úÖ Understanding of which relationships change

================================================================================
SCRIPT EXECUTION
================================================================================

Run standalone:
    cd "D:\Sales_calls_analysis\ML V2"
    python 05b_correlation_heatmaps.py

Run as part of full analysis:
    cd "D:\Sales_calls_analysis\ML V2"
    python RUN_COMPLETE_ANALYSIS_V2.py

Execution time: ~30-60 seconds
Memory usage: ~500 MB
Output: 4 PNG files + 5 CSV files

================================================================================
TECHNICAL SPECIFICATIONS
================================================================================

Matrix Size: 150 x 150
Total Correlations: 11,175 (per dataset)
Correlation Method: Pearson (for numeric/encoded features)
Visualization: Seaborn heatmap with mask
Color Scale: RdBu_r (Red-Blue reversed)
Figure Size: 24x22 inches
DPI: 300 (high resolution)
Format: PNG
Annotations: Values displayed (size 5)

================================================================================
FILES CREATED - COMPLETE LIST
================================================================================

VISUALIZATIONS (4):
‚úì heatmap_01_short_calls_correlation.png
‚úì heatmap_02_long_calls_correlation.png
‚úì heatmap_03_combined_correlation.png
‚úì heatmap_04_correlation_difference.png

CSV DATA (5):
‚úì correlation_matrix_short_calls.csv
‚úì correlation_matrix_long_calls.csv
‚úì correlation_matrix_combined.csv
‚úì correlation_differences_short_vs_long.csv
‚úì top_correlations_all_datasets.csv

================================================================================
STATUS: ‚úÖ COMPLETE
================================================================================

All correlation heatmaps have been generated successfully!
Individual and combined datasets are fully analyzed!
Ready for review and interpretation!

